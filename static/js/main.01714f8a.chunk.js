(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(23)},19:function(e,t,n){},20:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(10),l=n.n(s),i=(n(19),n(20),n(1)),c=n(2),r=n(5),u=n(3),d=n(6),h=n(4),m=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(r.a)(this,Object(u.a)(t).call(this,e))).onMouseDown=n.onMouseDown.bind(Object(d.a)(n)),n.onMouseUp=n.onMouseUp.bind(Object(d.a)(n)),n.onMouseMove=n.onMouseMove.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onMouseDown",value:function(e,t){this.cursorX=e,this.cursorY=t,document.onmousemove=this.onMouseMove}},{key:"onMouseMove",value:function(e){var t=e.pageX-this.cursorX,n=e.pageY-this.cursorY;this.cursorX=e.pageX,this.cursorY=e.pageY,this.props.shift(t,n)}},{key:"onMouseUp",value:function(){document.onmousemove=null}},{key:"render",value:function(){var e=this;return o.a.createElement("span",{className:"fa fa-bars",onMouseDown:function(t){return e.onMouseDown(t.pageX,t.pageY)},onMouseUp:this.onMouseUp})}}]),t}(a.Component),p=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="fa open-close-thik ";return e+=this.props.isContentVisible?"fa-close":"fa-angle-down",o.a.createElement("span",{className:e,onClick:this.props.toogleContent})}}]),t}(a.Component),b=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"filtersWidgetHeader"},o.a.createElement(m,{shift:this.props.shift}),o.a.createElement("span",{className:"header-label"},"FILTERS"),o.a.createElement(p,{isContentVisible:this.props.isContentVisible,toogleContent:this.props.toogleContent}))}}]),t}(a.Component),g=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"dropdown-content-container"},o.a.createElement("ul",{className:"dropdown-content scrollable"},this.props.children))}}]),t}(a.Component),f=n(7),O=n(11),v=n.n(O),C={setFilterResults:"SET_FILTER_RESULTS",addTable:"ADD_TABLE",applyFilter:"APPLY_FILTER",toggleRecord:"TOGGLE_RECORD",toggleTable:"TOGGLE_TABLE",toggleColumn:"TOGGLE_COLUMN",setFilterValue:"SET_FILTER_VALUE",toggleFilter:"TOGGLE_FILTER",toggleSelect:"TOGGLE_SELECT",toggleSort:"TOGGLE_SORT",toggleDropdown:"TOGGLE_DROPDOWN"},k=new(n(12).Dispatcher),j=[{tableName:"Test 1",data:[{columnName:"Test 1 My column",data:["ASdasd","saasdasd","213213","sadasdasd","asdasdasd"]}]},{tableName:"Test 2",data:[{columnName:"Test 2 column 1",data:["ASdasd","saasdasd","213213","sadasdasd","asdasdasd"]},{columnName:"Test 2 column 2",data:["ASdasd","saasdasd","213213","sadasdasd","asdasdasd"]}]},{tableName:"Test 3",data:[{columnName:"Test 3 column 1 ",data:["ASdasd","saasdasd","213213","sadasdasd","asdasdasd"]},{columnName:"Test 3 column 2 ",data:["ASda232sd","saasdasd111","213213","sadasdasd","asdasdasd"]}]},{tableName:"Test 4",data:[{columnName:"Test 4 column 1 ",data:["ASdasd","saasdasd","213213","sadasdasd","asdasdasd"]},{columnName:"Test 4 column 2 ",data:["ASda232sd","saasdasd111","213213","sadasdasd","asdasdasd"]}]},{tableName:"Test 5",data:[{columnName:"Test 5 column 1 ",data:["ASdasd","saasdasd","213213","sadasdasd","asdasdasd"]},{columnName:"Test 5 column 2 ",data:["ASda232sd","saasdasd111","213213","sadasdasd","asdasdasd"]}]},{tableName:"Test 6",data:[{columnName:"Test 6 column 1 ",data:["ASdasd","saasdasd","213213","sadasdasd","asdasdasd"]},{columnName:"Test 6 column 2 ",data:["ASda232sd","saasdasd111","213213","sadasdasd","asdasdasd"]}]}],y={onColumnsChanged:"onColumnsChanged",onTablesChanged:"onTablesChanged",onResultsChanged:"onResultsChanged",onSelectToggled:"onSelectToggled",onFilterChanged:"onFilterChanged",onSortToggled:"onSortToggled",onDropdownToggled:"onDropdownToggled"},S=[];S.push({label:"**",filterFunction:function(e,t){return t.data===e}});S.push({label:"*_",filterFunction:function(e,t){return t.data.includes(e)}});S.push({label:'""',filterFunction:function(e,t){return t.data.startsWith(e)}});var T=new(function(){function e(){Object(i.a)(this,e),this.initializeFilters()}return Object(c.a)(e,[{key:"initializeFilters",value:function(){this.filters=S.map(function(e,t){var n=Object(f.a)({},e);return n.index=t,n})}},{key:"getFilters",value:function(){return this.filters}}]),e}()),N=new(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(r.a)(this,Object(u.a)(t).call(this))).tables=[],e.columns=[],e.tablesState=[],e.allRecords=[],e.sortedRecords=[],e.filterResults=[],e.isSortOn=!1,e.isTablesDropdownOpened=!1,e.isColumnsDropdownOpened=!1,e.filterValue="",e.applyFilter=e.applyFilter.bind(Object(d.a)(e)),e.filters=T.getFilters().map(function(e){var t=Object(f.a)({},e);return t.active=!1,t}),e.isTablesDropdownOpened=!1,e.activeFilter=e.filters[0],e.activeFilter.active=!0,e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"isDropdownOpened",value:function(e){return"CONTEXTS"===e?this.isTablesDropdownOpened:"DIMENSIONS"===e?this.isColumnsDropdownOpened:void 0}},{key:"toggleDropdown",value:function(e){"CONTEXTS"===e?this.isTablesDropdownOpened=!this.isTablesDropdownOpened:"DIMENSIONS"===e&&(this.isColumnsDropdownOpened=!this.isColumnsDropdownOpened),this.emit(y.onDropdownToggled)}},{key:"getColumns",value:function(){return this.columns}},{key:"getFilters",value:function(){return this.filters}},{key:"getTables",value:function(){return this.tablesState}},{key:"getFilterResults",value:function(){return this.filterResults}},{key:"addTables",value:function(e){var t=this;e&&e instanceof Array&&e.forEach(function(e){e&&e.tableName&&(t.tablesState.push({tableName:e.tableName,checked:!1}),t.tables.push(e))}),this.emit(y.onTablesChanged)}},{key:"addColumns",value:function(e,t){var n=this;t.forEach(function(t){t.columnName&&n.columns.push({tableName:e,columnName:t.columnName,checked:!1})}),this.emit(y.onColumnsChanged)}},{key:"removeColumns",value:function(e){var t=this;this.columns=this.columns.filter(function(t){return t.tableName!==e}),this.tables.find(function(t){return t.tableName===e}).data.forEach(function(n){t.removeRecords(e,n.columnName)}),this.emit(y.onColumnsChanged)}},{key:"toggleFilter",value:function(e){this.isSelectOpened=!this.isSelectOpened,this.activeFilter.active=!1,this.activeFilter=this.filters[e],this.activeFilter.active=!0,this.updateFilterResults(),this.emit(y.onFilterChanged),this.emit(y.onSelectToggled)}},{key:"toggleSelect",value:function(){this.isSelectOpened=!this.isSelectOpened,this.emit(y.onSelectToggled)}},{key:"toggleColumn",value:function(e,t){var n=this.columns.find(function(n){return n.tableName===e&&n.columnName===t});n&&(n.checked=!n.checked,n.checked?this.addRecords(e,t):this.removeRecords(e,t),this.emit(y.onColumnsChanged))}},{key:"addRecords",value:function(e,t){var n=this,a=this.tables.find(function(t){return t.tableName===e}).data.find(function(e){return e.columnName===t}).data;!a&&!a instanceof Array||(a.map(function(n){return{tableName:e,columnName:t,data:n,checked:!1}}).forEach(function(e){return n.allRecords.push(e)}),this.updateSortedRecords(),this.updateFilterResults())}},{key:"updateSortedRecords",value:function(){this.sortedRecords=this.allRecords.slice().sort(this.compareFunction)}},{key:"removeRecords",value:function(e,t){this.allRecords=this.allRecords.filter(function(n){return!(n.tableName===e&&n.columnName===t)}),this.updateSortedRecords(),this.updateFilterResults()}},{key:"updateFilterResults",value:function(){var e=this.isSortOn?this.sortedRecords:this.allRecords;""!==this.filterValue&&(e=e.filter(this.applyFilter)),this.filterResults=e,this.emit(y.onResultsChanged)}},{key:"applyFilter",value:function(e){return this.activeFilter.filterFunction(this.filterValue,e)}},{key:"compareFunction",value:function(e,t){return e.data>t.data?1:e.data<t.data?-1:0}},{key:"toggleTable",value:function(e){var t=this.tables.find(function(t){return t.tableName===e}),n=this.tablesState.find(function(t){return t.tableName===e});n.checked=!n.checked,t&&(!0===n.checked?this.addColumns(e,t.data):this.removeColumns(t.tableName)),this.emit(y.onTablesChanged)}},{key:"toggleRecord",value:function(e){var t=this.filterResults.find(function(t){return t.index===e});t.checked=!t.checked}},{key:"setFilterValue",value:function(e){this.filterValue=e,this.updateFilterResults()}},{key:"toggleSort",value:function(){this.isSortOn=!this.isSortOn,this.emit(y.onSortToggled),this.updateFilterResults()}},{key:"reduce",value:function(e){switch(e.type){case C.toggleRecord:this.toggleRecord(e.index);break;case C.toggleTable:this.toggleTable(e.tableName);break;case C.toggleColumn:this.toggleColumn(e.tableName,e.columnName);break;case C.setFilterValue:this.setFilterValue(e.value);break;case C.toggleSelect:this.toggleSelect();break;case C.toggleFilter:this.toggleFilter(e.index);break;case C.toggleSort:this.toggleSort();break;case C.toggleDropdown:this.toggleDropdown(e.name)}}}]),t}(v.a));k.register(N.reduce.bind(N)),N.addTables(j),window.filterDataStore=N;var E=N,F=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("input",{type:"checkbox",checked:this.props.checked,onChange:this.props.onChange})}}]),t}(a.Component),w=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"content-element-container"},o.a.createElement(F,{checked:this.props.checked,onChange:this.props.onChange}),o.a.createElement("span",{className:"content-element"},this.props.text))}}]),t}(a.Component);function R(e){k.dispatch({type:C.setFilterValue,value:e})}function D(){k.dispatch({type:C.toggleSelect})}var V=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.isContentVisible?"fa-angle-up":"fa-angle-down";return o.a.createElement("i",{className:"fa ".concat(e," dropdown-arrow"),onClick:this.props.toogle})}}]),t}(a.Component),M=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"dropdown-header"},o.a.createElement(V,{toogle:this.props.toogle,isContentVisible:this.props.isContentVisible}),o.a.createElement("span",{className:"header-label"},this.props.name),o.a.createElement("span",{className:"selectedValues"},this.props.data))}}]),t}(a.Component),L=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={isDropdownOpened:E.isDropdownOpened(n.props.name)},n.toggleContent=n.toggleContent.bind(Object(d.a)(n)),n.handleDropdownToggled=n.handleDropdownToggled.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){E.on(y.onDropdownToggled,this.handleDropdownToggled)}},{key:"componentWillUnmount",value:function(){E.removeListener(y.onDropdownToggled,this.handleDropdownToggled)}},{key:"toggleContent",value:function(){var e;e=this.props.name,k.dispatch({type:C.toggleDropdown,name:e})}},{key:"handleDropdownToggled",value:function(){var e=E.isDropdownOpened(this.props.name);e!==this.state.isDropdownOpened&&this.setState({isDropdownOpened:e})}},{key:"reducer",value:function(e,t,n){return 0===n?t:"".concat(e,", ").concat(t)}},{key:"render",value:function(){var e=this.props.selectedValues.reduce(this.reducer,"");return o.a.createElement("div",null,o.a.createElement(M,{toogle:this.toggleContent,name:this.props.name,data:e,isContentVisible:this.state.isDropdownOpened}),this.state.isDropdownOpened&&this.props.children)}}]),t}(a.Component),x=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={tablesState:E.getTables(),selectedTables:E.getTables().filter(function(e){return e.checked}).map(function(e){return e.tableName})},n.handleTablesChanged=n.handleTablesChanged.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleTablesChanged",value:function(){this.setState({tablesState:E.getTables(),selectedTables:E.getTables().filter(function(e){return e.checked}).map(function(e){return e.tableName})})}},{key:"componentWillMount",value:function(){E.on(y.onTablesChanged,this.handleTablesChanged)}},{key:"componentWillUnmount",value:function(){E.removeListener(y.onTablesChanged,this.handleTablesChanged)}},{key:"render",value:function(){return o.a.createElement(L,{selectedValues:this.state.selectedTables,name:"CONTEXTS"},o.a.createElement(g,null,this.state.tablesState.map(function(e,t){return o.a.createElement(w,{key:t,text:e.tableName,checked:e.checked,onChange:function(){return t=e.tableName,void k.dispatch({type:C.toggleTable,tableName:t});var t}})})))}}]),t}(a.Component),A=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={columnsState:E.getColumns(),selectedColumns:E.getColumns().filter(function(e){return e.checked}).map(function(e){return e.columnName})},n.handleColumnsChanged=n.handleColumnsChanged.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleColumnsChanged",value:function(){this.setState({columnsState:E.getColumns(),selectedColumns:E.getColumns().filter(function(e){return e.checked}).map(function(e){return e.columnName})})}},{key:"componentWillMount",value:function(){E.on(y.onColumnsChanged,this.handleColumnsChanged)}},{key:"componentWillUnmount",value:function(){E.removeListener(y.onColumnsChanged,this.handleColumnsChanged)}},{key:"render",value:function(){return o.a.createElement(L,{name:"DIMENSIONS",selectedValues:this.state.selectedColumns},o.a.createElement(g,null,this.state.columnsState.map(function(e,t){return o.a.createElement(w,{key:t,text:e.columnName,checked:e.checked,onChange:function(){return t=e.tableName,n=e.columnName,void k.dispatch({type:C.toggleColumn,tableName:t,columnName:n});var t,n}})})))}}]),t}(a.Component),W=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"dropdowns-container"},o.a.createElement(x,null),o.a.createElement(A,null))}}]),t}(a.Component),G=n(13),U=n.n(G),_=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(r.a)(this,Object(u.a)(t).call(this,e))).handleChange=U()(R,150),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){this.handleChange.cancel()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"searchWrapper"},o.a.createElement("i",{className:"fa fa-search"}),o.a.createElement("input",{type:"text",maxLength:"40",placeholder:"Find",onChange:function(t){return e.handleChange(t.target.value)}}))}}]),t}(a.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("p",{className:"filter-element text-wrapper",style:{backgroundColor:this.props.active?"#575554":"#383737"},onClick:this.props.onClick},this.props.label)}}]),t}(a.Component),X=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"filter-elements-wrapper"},this.props.children)}}]),t}(a.Component),Y=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={filters:E.getFilters(),activeFilter:E.activeFilter,isSelectOpened:E.isSelectOpened,isSortOn:E.isSortOn},n.onSelectOpened=n.onSelectOpened.bind(Object(d.a)(n)),n.toggleSort=n.toggleSort.bind(Object(d.a)(n)),n.handleSelectToggled=n.handleSelectToggled.bind(Object(d.a)(n)),n.handleFilterChanged=n.handleFilterChanged.bind(Object(d.a)(n)),n.handleSortToggled=n.handleSortToggled.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"toggleSort",value:function(){k.dispatch({type:C.toggleSort})}},{key:"handleSortToggled",value:function(){this.setState({isSortOn:E.isSortOn})}},{key:"onFilterSelected",value:function(e){this.state.activeFilter.index===e?D():function(e){k.dispatch({type:C.toggleFilter,index:e})}(e)}},{key:"componentWillMount",value:function(){E.on(y.onSelectToggled,this.handleSelectToggled),E.on(y.onFilterChanged,this.handleFilterChanged),E.on(y.onSortToggled,this.handleSortToggled)}},{key:"componentWillUnmount",value:function(){E.removeListener(y.onSelectToggled,this.handleSelectToggled),E.removeListener(y.onFilterChanged,this.handleFilterChanged),E.removeListener(y.onSortToggled,this.handleSortToggled)}},{key:"handleSelectToggled",value:function(){this.setState({isSelectOpened:E.isSelectOpened})}},{key:"handleFilterChanged",value:function(){this.setState({activeFilter:E.activeFilter})}},{key:"onSelectOpened",value:function(){D()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"filter-elements-container-after"},o.a.createElement("div",{className:"filter-elements-container"},o.a.createElement(X,null,this.state.isSelectOpened&&E.getFilters().map(function(t,n){return o.a.createElement(I,{label:t.label,key:n,index:t.index,onClick:function(){return e.onFilterSelected(t.index)},active:t.active})}),!this.state.isSelectOpened&&o.a.createElement(I,{label:this.state.activeFilter.label,index:this.state.activeFilter.label,onClick:this.onSelectOpened,active:!0})),o.a.createElement(X,null,o.a.createElement(I,{label:"A-Z",active:this.state.isSortOn,onClick:this.toggleSort}))))}}]),t}(a.Component),B=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={results:E.getFilterResults()},n.onRecordClicked=n.onRecordClicked.bind(Object(d.a)(n)),n.handleResultsChanged=n.handleResultsChanged.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleResultsChanged",value:function(){this.setState({results:E.getFilterResults()})}},{key:"componentWillMount",value:function(){E.on(y.onResultsChanged,this.handleResultsChanged)}},{key:"componentWillUnmount",value:function(){E.removeListener(y.onResultsChanged,this.handleResultsChanged)}},{key:"onRecordClicked",value:function(e){!function(e){k.dispatch({type:C.toggleRecord,index:e})}(e)}},{key:"render",value:function(){return o.a.createElement("div",{className:"filter-result-container scrollable"},this.state.results.map(function(e,t){return o.a.createElement(w,{text:e.data,checked:e.checked,onChange:function(){return console.log("change")},key:t,index:e.index})}))}}]),t}(a.Component),P=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"filter-component"},o.a.createElement(_,null),o.a.createElement(Y,null),o.a.createElement(B,null))}}]),t}(a.Component),z=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"widget-content-container"},o.a.createElement(W,null),o.a.createElement(P,null))}}]),t}(a.Component),J=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={isContentVisible:!1,left:30,top:40},n.toogleContent=n.toggleContent.bind(Object(d.a)(n)),n.shift=n.shift.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"shift",value:function(e,t){this.setState(function(n){return{top:n.top+t,left:n.left+e}})}},{key:"toggleContent",value:function(){this.setState(function(e){return{isContentVisible:!e.isContentVisible}})}},{key:"render",value:function(){var e=o.a.createElement(z,{isContentVisible:this.state.isContentVisible});return o.a.createElement("div",{className:"filtersWidget",style:{left:this.state.left,top:this.state.top}},o.a.createElement(b,{toogleContent:this.toogleContent,shift:this.shift,isContentVisible:this.state.isContentVisible}),this.state.isContentVisible&&e)}}]),t}(a.Component);var H=function(){return o.a.createElement(J,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,1,2]]]);
//# sourceMappingURL=main.01714f8a.chunk.js.map